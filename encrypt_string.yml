---
- name: inline secret variable demonstration
  hosts: radical-bastion
  gather_facts: false

  vars:
    my_secret_var: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          33653131386231373134396566386138323135363833393139306335633665666362313136336231
          6237316263356466643435333739343430643633346566660a663530623633613730386633386362
          35643563333733643333393931336430336465326537353939636330326330333532643731303966
          3238323963356562650a366133313761313464613535346362316136666130383662323663313162
          6435
  
  tasks:
    - name: print the secure variable
      debug:
        msg: "My pass is {{ my_secret_var }}"

    - name: print the secure variable
      debug:
        var: my_secret_var


    - name: Using command to print my_secret
      command: /usr/bin/echo "My pass is {{ my_secret_var }}"
      register: shell_result
    - debug:
        var: shell_result

    - name: Using shell to print my_secret
      shell: echo "My pass is {{ my_secret_var }}"
      register: shell_output
    - debug:
        var: shell_output
