---
- name: inline secret variable demonstration
  hosts: radical-bastion
  gather_facts: false

  vars:
    my_secret_var: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          66656665643661393831373232656665623332323835353634323834353561613937313165363861
          3031323064623262643066343035653139616530303136360a303931393033386163616433633764
          39303736643064643933343265383139353764356566646138336161363932653362636164353533
          3062336566393036650a356438643434326536663763643262303231643965653235616534653431
          3036
  
  tasks:
    - name: print the secure variable
      debug:
        msg: "My pass is {{my_secret_var}}"

    - name: print the secure variable
      debug:
        var: my_secret_var


    - name: Using command to print my_secret
      command: /usr/bin/echo "My pass is {{my_secret_var}}"
      register: shell_result
    - debug:
        var: shell_result

    - name: Using shell to print my_secret
      shell: echo "My pass is {{my_secret_var}}"
      register: shell_output
    - debug:
        var: shell_output
